# Kirara Leoworld

## 初心

*2019/10/07 月曜日：*这原本是我准备用pygame练手用的一个，建立类似芳文社Kirara的横版游戏的一个软件，其中存储一些我很喜欢的二次元女孩子的信息，以及武器等等，2019年国庆假期的时候写的，大概花了三天时间学习加写完figure、weapon、work几个页面，发现战斗流程太复杂了，就没有实现，只是做了一个类似番剧数据库的玩意。

目前番剧数据库功能已被bangumi代替（2020.08.23），**本应用全面转型为一个简单的服务于个人的生产力工具**。

*2021/6/9添加：*10000h定律，指一个人想在某个领域达到顶尖水平需要练习的时间，这也代表每天练习3小时需要连续不断地练习10年，人生中有几个十年可供专心做一件事呢？

据此我依靠现有的知识，将对一件新事件的学习时间分配为2000小时，每天3h养成，如果达到2000H的练习，我就认为在这一领域达到了相当了解的水平了。毕竟我玩游戏也很少能有连续玩两年的游戏，更不知道这个番茄钟的生命周期是多少了，不过从19年国庆节断断续续到现在也有近两年了，居然还没有放弃我也挺讶异的，毕竟我还算一个毕竟容易半途而废的人。

成就规则设置如下：

1. xxx初级入门 40-50H=2400-3000min
2. xxx进阶学习 100H=6000min
3. xxx高级能力 200H=12000min
4. xxx专业训练 400H=24000min
5. xxx领域养成 1250H=75000min

题外话，个人相信**天赋>努力**的说法，因此“如果对于尚未入门的人来说，努力仍然是毫无疑问十分值得的，但是假如在某个领域已经入门并明显停滞，那么不妨立刻停止努力，把精力转移到其他领域，寻找更多可能。归根结底，我们一定要清楚地寻找自己的天赋和特长，远比闷头努力重要一万倍。”



## 斯金纳箱

因为很喜欢之前一个up介绍的关于斯金纳箱的观点，他把这个观点用在游戏中，我就想能不能给自己制作一个斯金纳箱，可以和**番茄工作法**结合起来。

于是用了几个小时简单设计了一下，今天花了半天时间完成了lottery模块，因为一开始没注意到这个页面其实是在不断刷新的（没错，就是忽视了藏在其中的pygame.display.flip()函数），走了一些弯路，不过意识到之后写起来简单多了。



## 水晶使用情况描述

0. KL水晶Cys和现实RMB兑换比例为10:1
1. 每日入场KL世界花销水晶1500氵
2. 每日夜间/晨间盘点当日/前日账单并计入番茄日り文档
3. KL钱包由水晶兑换使用，如果无法完成基本签到，每日消费限额10RMB
4. 项目名和常用水晶赚取消费情况如下：

|             项目名称              | 水晶变动            | 备注                     |
| :-------------------------------: | ------------------- | ------------------------ |
|              兑换RMB              | 10Cys -> 1RMB       |                          |
|             工作日常              | 一个完整钟220Cys    |                          |
|     看书/整理书/写作/爱好培养     | 一个完整钟260Cys    |                          |
|     看娱乐视频/电子游戏/看番      | 10min -> 5Cys       |                          |
|          工程娱乐/Coding          | 半个番茄钟90Cys     |                          |
|       完成一个大于20h的事件       | 时间$\times$0.75Cys |                          |
|    较完整看完一部番并写完感想     | 600Cys              | 消耗时间需超过120min     |
|    较完整看完一本书并整理完成     | 500Cys              | 页数需超过60page         |
| 较完整看完一部剧集/游戏并写完感想 | 400Cys              | 消耗时间需超过120min     |
|   完成一道编程题 简单/中等/困难   | 20/40/80Cys         | 独立完成、查漏补缺并记录 |
|                                   |                     |                          |
|                                   |                     |                          |
|                                   |                     |                          |

## 20210628 v1.2补丁

鉴于内部功能的优化已经到了一定地步，将版本号升级为v1.2，本次更新所带来的新特性主要为：

1. 页面UI的更新。
2. 针对之前体验的bug做了修复；对体验进行了升级。

## 20201218 v1.1补丁

本次更新在恋爱后18天写下，第一期计划从2020/10/27-2020/12/18共持续53天，效果开始还较为显著，但是越到后面就越是拖沓，导致自己完全没有心思去继续完成番茄钟。在这样的背景下，本次v1.1补丁对上一期中所发现的一些痛点进行改动。

1. 针对每日完成工作量较少的情况，将每日入场料收取费用改为1000氵。
2. 修改封面图，并加入版本号。
3. 对1400+RMB的欠款，采取相应策略进行激励：
   1. 每日早起签到奖励修改为3*80。
   2. 修改娱乐时间20min选项为休息10min，以增加番茄钟的连续性，水晶奖励相应减少一半。
   3. 新增LeeCode刷题水晶赚取方式。

## 未来工作计划

- [ ] 抽卡部分动画实现，视频or多张图片连接实现动画or库里的反转效果？
- [ ] RPG元素加入的大计划
- [ ] 可以的话实现read_achievements()函数的按钮效果（就是感觉太麻烦了）



## 更新日志

### 2021/7/4 日曜日

1. update_screen - achievement中的倒计时模块化，优化代码。
2. 在阅读完心流后，将爱好培养修改为1小时 - 260Cys。

### 2021/7/3 土曜日

规范了倒计时均为两个数字显示，为结束一项活动的页面增加了文字信息。

### 2021/7/2 金曜日

为成就页面增加按顺序换色的背景，初始挑选了7个觉得舒服的颜色。

### 2021/6/28 月曜日

1. 现在在选择成就事件页面可以看到选中的事件了，避免选错。只是在点击一次后由于刷新率的缘故会消失一下，不过觉得挺好玩认为这是特性而不是bug了。
2. 增加了第三期背景图

### 2021/6/26 土曜日

1. 修复了成就页面可以向上滚动一次的bug。
2. 添加了总时间，放在主页面中。

### 2021/6/25 金曜日

成就列表按照上次打开时间排序，更加符合实际情况，不用一直向下翻找常用的了。

### 2021/6/22 火曜日

1. 添加每日登陆的日志文件记录，可以正确为每一天添加换行了，而不是按照收取入场费的顺序。
2. 添加了多张大小图片。

### 2021/6/16 水曜日

1. 还是用新函数减少了update_screen - lottery代码。
2. 发现一个特性，pygame.event.get()的鼠标点击生命周期在跳出循环的时候自动会为pygame.MOUSEBUTTONDOWN添加一个pygame.MOUSEBUTTONUP。因此在操作的时候只能在该循环内进行操作。
3. 完成大于20h事件的水晶奖励由800Cys更改为（时间分钟$\times$0.75）取正。
4. 为主页面和click_button_achievement()中的button增加按钮点击效果。

### 2020/11/17 火曜日

增加每日入场料收取延时，从凌晨4点开始计算后一天的入场料收取。

### 2020/11/06 金曜日

根据201022日重写的win10toast，将抽奖、签到、入场料收取等环节全部改成destroy by me模型，优化程序卡顿问题。

### 2020/10/28 水曜日

修改kirara_mean.py 为程序增加鉴别自己是否在运行功能，通过检测目前已经在运行的pythonw.exe不超过两个实现，系统本身会存在一个。

### 2020/10/23 金曜日

为主窗口增加到8张可以轮换的背景图，通过按h、l进行左右切换。

### 2020/10/22 木曜日

感觉现在颇有每天写一个小功能，然后100天之后变成一个完善生产力工具的趋势~

1. 新增入场料收取功能，每日入场费用暂定为1500氵，登录即收取。
2. 使用duration_minutes增加专注时间改动时的复用性，优化代码。
3. 新增专注时间小窗口背景图随机选择。初始14张图，暂定500氵换一张新的。
4. 改写Python\Lib\site-packages\win10toast\__init__.py文件，增加根据自己需要关闭win10toaster的功能。
5. 主页面增加标题，改动按钮位置不挡住封面妹子的脸。

### 2020/10/21 水曜日

缩短休息时间为20min（原本为30min），为achievement选择页面新增加id用来确认自己完成的事件数目。

### 2020/10/20 火曜日

*增加背景图三张*，分别对应通用页面大图一张，小页面两张，现在比较深刻地认识到，功能开发成什么样子对体验的提升远远不如更换一个更好看的ui来得重要。

在实体类中新增Settingssmallwindow()类，用来统一设置小窗口的属性。

### 2020/10/19 月曜日

*增加全新功能——时间投入事件*，在专注之前首先选择事件，源自一句话：**<font color='Crimson'>很多东西即使你用再巧妙的技巧也需要时间去磨。</font>**同时方便自己查看投入时间，而不是仅仅只通过水晶来衡量。开发用时4小时。

*增加了FPS设置*，而不是之前的延时1s，这样更有助于控制刷新频率。

### 2020/08/22 土曜日

修改抽卡次数为水晶机制，280氵一次，同时对完成不同工作和签到可获得的水晶数量进行了更加合理的改动；update_screen的lottery部分优化冗余代码。

### 2020/08/19 水曜日

增加了早午夜时间段签到功能，用于合理规划自己的时间。

### 2020/08/17 月曜日

增加了倒计时的番茄计时功能，在完成后写入日志并以气泡通知。利用pyinstaller打包成可执行文件。

### 2020/08/16 日曜日

用了几个小时简单设计了一下斯金纳箱，今天花了半天时间完成了lottery模块，因为一开始没注意到这个页面其实是在不断刷新的（没错，就是忽视了藏在其中的pygame.display.flip()函数），走了一些弯路，不过意识到之后写起来简单多了。









